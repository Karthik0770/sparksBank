(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(18),r=n.n(s),i=(n(37),n.p,n(38),n(21)),o=n(3),l=n(6),h=n(4),u=n(8),j=n(7),d=n(64),b=n(1),f=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleClick=function(e){a.props.history.push({pathname:"./details",state:e})},a.state={users:[]},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/users").then((function(e){return e.json()})).then((function(t){return e.setState({users:t},(function(){return console.log("Users fetched..",t)}))}))}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:this.state.users.map((function(t){return Object(b.jsxs)("div",{style:{marginLeft:"1%",marginRight:"1%",marginTop:"5%",marginBottom:"5%"},className:"card col col-lg-2 col-md-3 col-5 col-sm-5",children:[Object(b.jsx)("h2",{className:"card-header",children:t.name}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)(d.a,{variant:"contained",color:"primary",className:"btn btn-dark",onClick:function(){return e.handleClick(t._id)},children:[Object(b.jsx)("i",{className:"fa fa-bars"}),"\xa0Show Details"]})})]},t._id)}))})})}}]),n}(a.Component),p=Object(o.f)(f),m=(n(20),n.p+"static/media/bnk_logo.53b56cb1.png"),O=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"navbar navbar-dark bg-dark",children:Object(b.jsxs)("h1",{style:{fontSize:"250%",fontFamily:'"Times New Roman", Times, serif'},className:"navbar-brand",children:["\xa0\xa0",Object(b.jsx)("img",{src:m,width:"80",height:"80"}),Object(b.jsx)("a",{className:"nav-head",href:"/",children:"SPARKS\xa0 BANK"})]})})})}}]),n}(a.Component),x=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).handleClick=function(){e.props.history.push("./ViewAll")},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"banner",children:Object(b.jsx)("h2",{style:{fontSize:"200%",padding:"5%"},children:"Welcome to sparks foundation banking application"})}),Object(b.jsx)("div",{className:"vA",children:Object(b.jsxs)(d.a,{variant:"contained",color:"primary",size:"large",onClick:this.handleClick,children:[Object(b.jsx)("i",{className:"fa fa-search"}),"\xa0View All Customers"]})})]})}}]),n}(a.Component),v=Object(o.f)(x),y=(n(48),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleClick=function(e){a.props.history.push({pathname:"./transfer",state:e})},a.state={acc_id:"",name:"",email:"",pin:"",balance:""},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state;console.log(this.props.location),fetch("/users/".concat(t)).then((function(e){return e.json()})).then((function(n){return e.setState({acc_id:t,name:n.name,email:n.email,pin:n.pin,balance:n.balance},(function(){return console.log(n)}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.email,c=t.pin,s=t.balance,r=t.acc_id;return Object(b.jsx)("div",{className:"container",style:{marginTop:"5%"},children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h2",{children:n})}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("h5",{children:["Email : ",a]}),Object(b.jsxs)("h5",{children:["Account Number : ",c]}),Object(b.jsxs)("h5",{children:["Balance : \u20b9 ",s]})]}),Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsxs)(d.a,{variant:"contained",size:"large",color:"primary",onClick:function(){return e.handleClick(r)},children:[Object(b.jsx)("i",{className:"fa fa-money"}),"\xa0Transfer Money"]})})]})})}}]),n}(a.Component)),N=Object(o.f)(y),g=n(14),k=n.n(g),C=n(19),S=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/users/".concat(a.state.payee)).then((function(e){return e.json()})).then((function(e){return a.setState({pa_bal:e.balance})}));case 3:return e.next=5,fetch("/users/".concat(a.state.transfer)).then((function(e){return e.json()})).then((function(e){return a.setState({tr_bal:e.balance})}));case 5:if(!(parseInt(a.state.amount)>parseInt(a.state.pa_bal))){e.next=9;break}alert("Your balance not sufficient to continue the transaction !!"),e.next=13;break;case 9:return e.next=11,fetch("/users/"+a.state.payee,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({balance:a.state.pa_bal-a.state.amount})}).then((function(e){return e.json()})).then(alert("balance updated"));case 11:return e.next=13,fetch("/users/"+a.state.transfer,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({balance:parseInt(a.state.tr_bal)+parseInt(a.state.amount)})}).then((function(e){return e.json()})).then(a.props.history.push({pathname:"./invoice",state:[a.state.payee,a.state.transfer,a.state.amount]}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleUserChange=function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({transfer:t.target.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAmountChange=function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({amount:t.target.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var c=a.props.location.state;return a.state={users:[],transfer:"",amount:0,payee:c,tr_bal:0,pa_bal:0},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state;console.log(this.state.payee),fetch("/users").then((function(e){return e.json()})).then((function(n){var a=[];n.map((function(e){e._id!==t&&a.push(e)})),e.setState({users:a},(function(){return console.log(n)}))}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"card tr",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h2",{children:"Money Transfer"})}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("center",{children:Object(b.jsxs)("form",{className:"form-group",onSubmit:this.handleSubmit,children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("label",{children:"Select User \xa0\xa0"}),"\xa0",Object(b.jsxs)("select",{className:"form-control form-control-sm",onChange:this.handleUserChange,children:[Object(b.jsx)("option",{value:"",children:"--Select User--"}),this.state.users.map((function(e){return Object(b.jsx)("option",{value:e._id,name:"tr_id",children:e.name},e._id)}))]})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("label",{children:"Amount \xa0\xa0"}),"\xa0",Object(b.jsx)("input",{className:"form-control form-control-sm",type:"number",placeholder:"Enter Amount",onChange:this.handleAmountChange,value:this.state.amount})]}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Confirm"})]})})})]})}}]),n}(a.Component),w=Object(o.f)(S),_=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).handleClick=function(){a.props.history.push("./ViewAll")};var c=a.props.location.state;return a.state={pa_id:c[0],tr_id:c[1],payee:[],transfer:[],amount:c[2]},a}return Object(h.a)(n,[{key:"componentWillMount",value:function(){var e=Object(C.a)(k.a.mark((function e(){var t=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/users/"+this.state.pa_id).then((function(e){return e.json()})).then((function(e){return t.setState({payee:e})}));case 2:return e.next=4,fetch("http://localhost:4000/users/"+this.state.tr_id).then((function(e){return e.json()})).then((function(e){return t.setState({transfer:e})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{style:{marginTop:"5%",marginBottom:"5%"},className:"card",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("h1",{style:{color:"#3f51b5"},children:Object(b.jsx)("b",{children:"Successfull Transaction"})})}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"payeeInfo",children:[Object(b.jsxs)("h2",{children:["User - ",this.state.payee.name]}),Object(b.jsxs)("h4",{children:["Account Number - ",this.state.payee.pin]}),Object(b.jsxs)("h2",{children:["Balance - \u20b9",this.state.payee.balance]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Reciever Details"}),Object(b.jsxs)("h4",{children:["Reciever name - ",this.state.transfer.name]}),Object(b.jsxs)("h4",{children:["Amount Transfered - \u20b9",this.state.amount]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"card-footer",children:Object(b.jsxs)(d.a,{variant:"contained",size:"large",color:"primary",onClick:this.handleClick,children:[Object(b.jsx)("i",{className:"fa fa-arrow-circle-left"}),"Return to list of customers"]})})]})})}}]),n}(a.Component),A=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"footer",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsxs)("h4",{style:{fontSize:"1.5vh"},children:["\xa9",(new Date).getFullYear," SPARKS BANK INC | All rights reserved "]})}),Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("h4",{style:{fontSize:"1.5vh"},children:"Terms Of Service | Privacy"})}),Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("h4",{style:{fontSize:"1.5vh"},children:"contact us | email: sparks@example.com"})})]})})})}}]),n}(a.Component);var T=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"page-container",children:[Object(b.jsxs)("div",{className:"content-wrap",children:[Object(b.jsx)(O,{}),Object(b.jsx)(i.a,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",component:v}),Object(b.jsx)(o.a,{exact:!0,path:"/ViewAll",component:p}),Object(b.jsx)(o.a,{exact:!0,path:"/details",component:N}),Object(b.jsx)(o.a,{exact:!0,path:"/transfer",component:w}),Object(b.jsx)(o.a,{exact:!0,path:"/invoice",component:_})]})})]}),Object(b.jsx)(A,{})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root")),z()}},[[50,1,2]]]);
//# sourceMappingURL=main.cc6fcb2e.chunk.js.map